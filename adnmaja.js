!function(c){function n(t,e){var i=t.data("settings");void 0===e&&(e=!1),e&&a(t);var r=s(t);t.animate(r.css,r.time,"linear",function(){t.css(i.direction,"0"),n(t,!0)})}function s(t){var e=t.data("settings"),i=t.children().first(),r=Math.abs(-t.css(e.direction).replace("px","").replace("auto","0")-i.outerWidth(!0)),n=1e3*r/(e=t.data("settings")).speed,s={};return s[e.direction]=t.css(e.direction).replace("px","").replace("auto","0")-r,{css:s,time:n}}function a(t){var e=t.data("settings");t.css("transition-duration","0s").css(e.direction,"0");var i=t.children().first();i.hasClass("webticker-init")?i.remove():t.children().last().after(i)}function r(t,e){void 0===e&&(e=!1),e&&a(t);var i=s(t),r=i.time/1e3;r+="s",t.css(i.css).css("transition-duration",r)}function t(t,e,i){var r;c.get(t,function(t){c(t).find("item").each(function(){var t=c(this),e=t.find("title").text(),i=t.find("link").text();listItem="<li><a href='"+i+"'>"+e+"</a></li>",r+=listItem}),i.webTicker("update",r,e)})}function h(t){var e=t.data("settings");t.width("auto");var i=0;if(t.children("li").each(function(){i+=c(this).outerWidth(!0)}),i<t.parent().width()||1==t.children().length)if(e.duplicate)for(itemWidth=Math.max.apply(Math,t.children().map(function(){return c(this).width()}).get());i-itemWidth<t.parent().width()||1==t.children().length;){var r=t.children().clone();t.append(r),i=0,t.children("li").each(function(){i+=c(this).outerWidth(!0)}),itemWidth=Math.max.apply(Math,t.children().map(function(){return c(this).width()}).get())}else{var n=t.parent().width()-i;n+=t.find("li:first").width();var s=t.find("li:first").height();t.append('<li class="ticker-spacer" style="width:'+n+"px;height:"+s+'px;"></li>')}if(e.startEmpty){s=t.find("li:first").height();t.prepend('<li class="webticker-init" style="width:'+t.parent().width()+"px;height:"+s+'px;"></li>')}for(i=0,t.children("li").each(function(){i+=c(this).outerWidth(!0)}),t.width(i+200),widthCompare=0,t.children("li").each(function(){widthCompare+=c(this).outerWidth(!0)});widthCompare>=t.width();)t.width(t.width()+200),widthCompare=0,t.children("li").each(function(){widthCompare+=c(this).outerWidth(!0)})}var d=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(""==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),e={init:function(i){return i=jQuery.extend({speed:50,direction:"right",moving:!0,startEmpty:!0,duplicate:!1,rssurl:!1,hoverpause:!0,rssfrequency:0,updatetype:"reset"},i),this.each(function(){jQuery(this).data("settings",i);var e=jQuery(this);e.addClass("newsticker"),e.wrap("<div class='mask'></div>").after("<span class='tickeroverlay-right'>&nbsp;</span><span class='tickeroverlay-left'>&nbsp;</span>");e.parent().wrap("<div class='tickercontainer'></div>");h(e),i.rssurl&&(t(i.rssurl,i.type,e),0<i.rssfrequency&&window.setInterval(function(){t(i.rssurl,i.type,e)},1e3*i.rssfrequency*60)),d?(e.css("transition-duration","0s").css(i.direction,"0"),r(e,!1),e.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend",function(t){if(!e.is(t.target))return!1;r(c(this),!0)})):n(c(this)),i.hoverpause&&e.hover(function(){if(d){var t=c(this).css(i.direction);c(this).css("transition-duration","0s").css(i.direction,t)}else jQuery(this).stop()},function(){jQuery(this).data("settings").moving&&(d?r(c(this),!1):n(e))})})},stop:function(){var e=c(this).data("settings");if(e.moving)return e.moving=!1,this.each(function(){if(d){var t=c(this).css(e.direction);c(this).css("transition-duration","0s").css(e.direction,t)}else c(this).stop()})},cont:function(){var t=c(this).data("settings");if(!t.moving)return t.moving=!0,this.each(function(){d?r(c(this),!1):n(c(this))})},update:function(t,e,i,r){e=e||"reset",void 0===i&&(i=!0),void 0===r&&(r=!1),"string"==typeof t&&(t=c(t));var n=c(this);n.webTicker("stop");var s=c(this).data("settings");if("reset"==e)n.html(t),n.css(s.direction,"0"),h(n);else if("swap"==e){n.children("li").addClass("old");for(var a=0;a<t.length;a++)id=c(t[a]).data("update"),match=n.find('[data-update="'+id+'"]'),match.length<1?i&&(0==n.find(".ticker-spacer:first-child").length&&0<n.find(".ticker-spacer").length?n.children("li.ticker-spacer").before(t[a]):n.append(t[a])):n.find('[data-update="'+id+'"]').replaceWith(t[a]);n.children("li.webticker-init, li.ticker-spacer").removeClass("old"),r&&n.children("li").remove(".old"),stripWidth=0,n.children("li").each(function(){stripWidth+=c(this).outerWidth(!0)}),n.width(stripWidth+200)}n.webTicker("cont")}};c.fn.webTicker=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void c.error("Method "+t+" does not exist on jQuery.webTicker"):e.init.apply(this,arguments)}}(jQuery),$(".ticker .jari").each(function(){var t=$(this).text();t.match("recent")?$.ajax({url:"/feeds/posts/default?alt=json-in-script&max-results=6",type:"get",dataType:"jsonp",success:function(t){for(var e="",i="<ul>",r=0;r<t.feed.entry.length;r++){for(var n=0;n<t.feed.entry[r].link.length;n++)if("alternate"==t.feed.entry[r].link[n].rel){e=t.feed.entry[r].link[n].href;break}var s=t.feed.entry[r].title.$t,a=t.feed.entry[r].category[0].term;i+='<li><a href="/search/label/'+a+'" class="post-tag">'+a+'</a><h3 class="recent-title"><a href="'+e+'">'+s+"</a></h3></li>"}i+="</ul>",$(".ticker .jari").each(function(){$(this).html(i),$(this).prev("h2").prepend('<i class="fa fa-thumb-tack"></i>'),$(this).removeClass("widget-content").addClass("layout-content"),$(this).find("ul").webTicker(),$("p.trans").each(function(){var t=$(this).text(),e=$(this).attr("data-tran");$("#pages-wrapper *").replaceText(t,e)})})}}):$.ajax({url:"/feeds/posts/default/-/"+t+"?alt=json-in-script&max-results=10",type:"get",dataType:"jsonp",success:function(t){for(var e="",i="<ul>",r=0;r<t.feed.entry.length;r++){for(var n=0;n<t.feed.entry[r].link.length;n++)if("alternate"==t.feed.entry[r].link[n].rel){e=t.feed.entry[r].link[n].href;break}var s=t.feed.entry[r].title.$t,a=t.feed.entry[r].category[0].term;i+='<li><a href="/search/label/'+a+'" class="post-tag">'+a+'</a><h3 class="recent-title"><a href="'+e+'">'+s+"</a></h3></li>"}i+="</ul>",$(".ticker .jari").each(function(){$(this).html(i),$(this).prev("h2").prepend('<i class="fa fa-thumb-tack"></i>'),$(this).removeClass("widget-content").addClass("layout-content"),$(this).find("ul").webTicker(),$("p.trans").each(function(){var t=$(this).text(),e=$(this).attr("data-tran");$("#pages-wrapper *").replaceText(t,e)})})}})});
